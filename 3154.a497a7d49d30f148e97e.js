(self.webpackChunkagilmente_cp=self.webpackChunkagilmente_cp||[]).push([[3154],{3154:(e,t,i)=>{"use strict";i.r(t),i.d(t,{EditPatientPageModule:()=>A});var o=i(1116),n=i(1462),a=i(6611),r=i(4762),s=i(5527),l=i(8619),c=i(5450),d=i(5860);function m(e,t){1&e&&(l.TgZ(0,"div",22),l._uU(1," Este campo es requerido "),l.qZA())}function p(e,t){1&e&&(l.TgZ(0,"div",22),l._uU(1," Este campo es requerido "),l.qZA())}function u(e,t){1&e&&(l.TgZ(0,"div",22),l._uU(1," Este campo es requerido "),l.qZA())}function Z(e,t){1&e&&(l.TgZ(0,"div",22),l._uU(1," Este campo es requerido "),l.qZA())}let g=(()=>{class e{constructor(e,t,i,o,n){this.patientsApiService=e,this.route=t,this.modalCtrl=i,this.alertController=o,this.router=n,this.datePickerObj={},this.patient={};const a=new Date;this.minDate=new Date(1900,0,1),this.maxDate=new Date(a.getFullYear()-10,a.getMonth(),a.getDate())}invalidField(e){return this.myForm.get(e).invalid&&this.myForm.get(e).touched}ngOnInit(){this.myForm=new n.cw({firstName:new n.NI("",n.kI.required),lastName:new n.NI("",n.kI.required),birthDate:new n.NI("",n.kI.required),telephone:new n.NI,email:new n.NI("",n.kI.email),description:new n.NI,city:new n.NI("",n.kI.required)}),this.route.params.subscribe(e=>{this.id=+e.id}),this.patientsApiService.getPatientById(this.id).subscribe(e=>{this.patient=e,this.myForm.setValue({firstName:this.patient.firstName,lastName:this.patient.lastName,birthDate:this.patient.bornDate,telephone:this.patient.telephone,email:this.patient.email,description:this.patient.description,city:this.patient.city})}),this.datePickerObj={showTodayButton:!1,closeOnSelect:!0,setLabel:"Ok",closeLabel:"Cerrar",titleLabel:"Selecciona una fecha",dateFormat:"DD-MM-YYYY",clearButton:!1,monthsList:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weeksList:["D","L","M","X","J","V","S"],fromDate:this.minDate,toDate:this.maxDate,inputDate:this.maxDate}}openDatePicker(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:s.Fd,cssClass:"li-ionic4-datePicker",componentProps:{objConfig:this.datePickerObj}});yield e.present()})}save(e){e.valid&&this.patientsApiService.putPatient({firstName:e.value.firstName,lastName:e.value.lastName,bornDate:e.value.birthDate,city:e.value.city,description:e.value.description,telephone:e.value.telephone,email:e.value.email,id:this.id,isLogged:this.patient.isLogged,loginCode:this.patient.loginCode},this.id).subscribe(e=>{this.presentAlert("\xa1Paciente editado!","El paciente ha sido editado correctamente.",!0,"alertSuccess")},e=>{this.presentAlert("Error","Un error ha ocurrido, por favor int\xe9ntelo de nuevo m\xe1s tarde.",!1,"alertError")})}presentAlert(e,t,i,o){return(0,r.mG)(this,void 0,void 0,function*(){const n=yield this.alertController.create({message:t,header:"Editar Paciente",subHeader:e,cssClass:o,buttons:[{text:"OK",cssClass:o}]});yield n.present(),(yield n.onDidDismiss())&&i&&this.router.navigateByUrl("/patients")})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.M),l.Y36(d.gz),l.Y36(a.IN),l.Y36(a.Br),l.Y36(d.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-edit-patient"]],decls:65,vars:7,consts:[["color","primary"],["slot","start"],["text",""],["size","2"],[1,"ion-padding","ion-margin"],["id","container",1,"ion-padding","ion-margin"],[3,"formGroup","ngSubmit"],["size","6"],["id","rounded"],["position","stacked","fixed","","color","primary"],["formControlName","firstName","required","","maxlength","20",1,"form-control"],["class","validation-error","style","color:#f53d3d; font-size:80%","class","alert",4,"ngIf"],["position","stacked","color","primary"],["formControlName","lastName","type","text","maxlength","20"],["id","rounded","button",""],["readonly","","formControlName","birthDate",3,"liIonic4Datepicker"],["name","calendar-outline","slot","end",2,"margin-top","16px"],["formControlName","city","type","text","maxlength","20"],["type","text","formControlName","telephone"],["formControlName","email","type","email"],["rows","6","formControlName","description","type","text","maxlength","240"],["type","submit","expand","block",1,"ion-text-uppercase","ion-margin-top",3,"disabled"],[1,"alert",2,"color","#f53d3d","font-size","80%"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-buttons",1),l._UZ(3,"ion-back-button",2),l.qZA(),l.TgZ(4,"ion-title"),l._uU(5,"Agilmente - Editar paciente"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.TgZ(7,"ion-row"),l._UZ(8,"ion-col",3),l.TgZ(9,"ion-col"),l.TgZ(10,"ion-title",4),l._uU(11," Editar Paciente "),l.qZA(),l.TgZ(12,"div",5),l.TgZ(13,"form",6),l.NdJ("ngSubmit",function(){return t.save(t.myForm)}),l.TgZ(14,"ion-row"),l.TgZ(15,"ion-col",7),l.TgZ(16,"ion-item",8),l.TgZ(17,"ion-label",9),l._uU(18,"Nombre *"),l.qZA(),l._UZ(19,"ion-input",10),l.qZA(),l.YNc(20,m,2,0,"div",11),l.qZA(),l.TgZ(21,"ion-col",7),l.TgZ(22,"ion-item",8),l.TgZ(23,"ion-label",12),l._uU(24,"Apellido *"),l.qZA(),l._UZ(25,"ion-input",13),l.qZA(),l.YNc(26,p,2,0,"div",11),l.qZA(),l.qZA(),l.TgZ(27,"ion-row"),l.TgZ(28,"ion-col",7),l.TgZ(29,"ion-item",14),l.TgZ(30,"ion-label",12),l._uU(31,"Fecha de nacimiento *"),l.qZA(),l._UZ(32,"ion-input",15),l._UZ(33,"ion-icon",16),l.qZA(),l.YNc(34,u,2,0,"div",11),l.qZA(),l.TgZ(35,"ion-col"),l.TgZ(36,"ion-item",8),l.TgZ(37,"ion-label",12),l._uU(38," Localidad * "),l.qZA(),l._UZ(39,"ion-input",17),l.qZA(),l.YNc(40,Z,2,0,"div",11),l.qZA(),l.qZA(),l.TgZ(41,"ion-row"),l.TgZ(42,"ion-col",7),l.TgZ(43,"ion-item",14),l.TgZ(44,"ion-label",12),l._uU(45,"Tel\xe9fono"),l.qZA(),l._UZ(46,"ion-input",18),l.qZA(),l.qZA(),l.TgZ(47,"ion-col"),l.TgZ(48,"ion-item",8),l.TgZ(49,"ion-label",12),l._uU(50,"Correo Electr\xf3nico"),l.qZA(),l._UZ(51,"ion-input",19),l.qZA(),l.qZA(),l.qZA(),l.TgZ(52,"ion-row"),l.TgZ(53,"ion-col"),l.TgZ(54,"ion-item",8),l.TgZ(55,"ion-label",12),l._uU(56," Descripci\xf3n "),l.qZA(),l._UZ(57,"ion-textarea",20),l.qZA(),l.qZA(),l.qZA(),l.TgZ(58,"ion-label",4),l._uU(59," * Los campos que poseen (*) son obligatorios. "),l.qZA(),l._UZ(60,"br"),l._UZ(61,"br"),l.TgZ(62,"ion-button",21),l._uU(63," Actualizar Paciente "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(64,"ion-col",3),l.qZA(),l.qZA()),2&e&&(l.xp6(13),l.Q6J("formGroup",t.myForm),l.xp6(7),l.Q6J("ngIf",t.invalidField("firstName")),l.xp6(6),l.Q6J("ngIf",t.invalidField("lastName")),l.xp6(6),l.Q6J("liIonic4Datepicker",t.datePickerObj),l.xp6(2),l.Q6J("ngIf",t.invalidField("birthDate")),l.xp6(6),l.Q6J("ngIf",t.invalidField("city")),l.xp6(22),l.Q6J("disabled",!t.myForm.valid))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.wd,a.W2,a.Nd,a.wI,n._Y,n.JL,n.sg,a.Ie,a.Q$,a.pK,a.j9,n.JJ,n.u,n.Q7,n.nD,o.O5,s.w5,a.gu,a.g2,a.YG],styles:["#rounded[_ngcontent-%COMP%]{border-radius:10px!important;font-size:.9em;border:1px solid silver!important;display:flex;justify-content:space-between}#container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.li-ionic4-datePicker[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{height:200px;max-height:100%;width:200px}"]}),e})();var h=i(5633);const b=[{path:"",component:g}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,n.UX,n.u5,s.YZ,a.Pc,d.Bz.forChild(b),h.t]]}),e})()}}]);