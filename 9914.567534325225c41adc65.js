(self.webpackChunkagilmente_cp=self.webpackChunkagilmente_cp||[]).push([[9914],{5450:(t,e,i)=>{"use strict";i.d(e,{M:()=>a});var n=i(529),o=i(8619),r=i(2693);let a=(()=>{class t{constructor(t){this.http=t,this.entity="patient"}getPatients(t){return this.http.get(`http://${n.N.ip}:8080/${this.entity}?page=${t}`)}getActivePatients(t){return this.http.get(`http://${n.N.ip}:8080/${this.entity}/activePatients?page=${t}`)}getActivePatientsListed(){return this.http.get(`http://${n.N.ip}:8080/${this.entity}/listed`)}getPatientsListed(){return this.http.get(`http://${n.N.ip}:8080/${this.entity}/listedAll`)}getFilteredPatients(t){return this.http.get(`http://${n.N.ip}:8080/${this.entity}/fn/${t}`)}getPatientById(t){return this.http.get(`http://${n.N.ip}:8080/${this.entity}/${t}`)}postPatient(t){return this.http.post(`http://${n.N.ip}:8080/${this.entity}`,t)}putPatient(t,e){return this.http.put(`http://${n.N.ip}:8080/${this.entity}/${e}`,t)}deletePatient(t){return this.http.put(`http://${n.N.ip}:8080/${this.entity}/deletePatient/${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(r.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8884:(t,e,i)=>{"use strict";i.r(e),i.d(e,{SpecificPatientPageModule:()=>x});var n=i(5860),o=i(5633),r=i(4762),a=i(1462),s=i(8619),l=i(5450),p=i(332),d=i(6611),u=i(9310),c=i(1116),g=i(192);const Z=["lineCumulativeCanvas"];let h=(()=>{class t{constructor(){}ngOnInit(){}ngAfterViewInit(){this.createLineCumulative()}createLineCumulative(){g.kL.register(...g.zX),this.lineCumulative=new g.kL(this.lineCumulativeCanvas.nativeElement,{type:"line",data:{labels:this.results.map((t,e)=>`Partida ${e+1}`),datasets:[{label:"Aciertos",backgroundColor:"rgba(102, 195, 95, 0.4)",borderColor:"rgba(102, 195, 95, 1)",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"rgba(102, 195, 95, 1)",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(102, 195, 95, 1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.results.map(t=>t.successes),spanGaps:!1},{label:"Errores",backgroundColor:"rgba(195, 95, 95, 0.4)",borderColor:"rgba(195, 95, 95, 1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"rgba(195, 95, 95, 1)",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.results.map(t=>t.mistakes),spanGaps:!1}]}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-hay-uno-repetido-results-performance-graph"]],viewQuery:function(t,e){if(1&t&&s.Gf(Z,5),2&t){let t;s.iGM(t=s.CRH())&&(e.lineCumulativeCanvas=t.first)}},inputs:{results:"results"},decls:7,vars:0,consts:[[1,"card"],["lineCumulativeCanvas",""]],template:function(t,e){1&t&&(s.TgZ(0,"ion-card",0),s.TgZ(1,"ion-card-header"),s.TgZ(2,"ion-card-title"),s._uU(3,"Desempe\xf1o general"),s.qZA(),s.qZA(),s.TgZ(4,"ion-card-content"),s._UZ(5,"canvas",null,1),s.qZA(),s.qZA())},directives:[d.PM,d.Zi,d.gZ,d.FN],styles:[".card[_ngcontent-%COMP%]{border-radius:16px}"]}),t})();const m=["lineCumulativeCanvas"];let b=(()=>{class t{constructor(){}ngOnInit(){}ngAfterViewInit(){this.createLineCumulative()}createLineCumulative(){g.kL.register(...g.zX),this.lineCumulative=new g.kL(this.lineCumulativeCanvas.nativeElement,{type:"line",data:{labels:this.results.map((t,e)=>`Partida ${e+1}`),datasets:[{label:"Tiempo (segundos)",fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.results.map(t=>t.totalTime.toFixed(2)),spanGaps:!1}]}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-hay-uno-repetido-results-time-graph"]],viewQuery:function(t,e){if(1&t&&s.Gf(m,5),2&t){let t;s.iGM(t=s.CRH())&&(e.lineCumulativeCanvas=t.first)}},inputs:{results:"results"},decls:7,vars:0,consts:[[1,"card"],["lineCumulativeCanvas",""]],template:function(t,e){1&t&&(s.TgZ(0,"ion-card",0),s.TgZ(1,"ion-card-header"),s.TgZ(2,"ion-card-title"),s._uU(3,"Tiempo total"),s.qZA(),s.qZA(),s.TgZ(4,"ion-card-content"),s._UZ(5,"canvas",null,1),s.qZA(),s.qZA())},directives:[d.PM,d.Zi,d.gZ,d.FN],styles:[".card[_ngcontent-%COMP%]{border-radius:16px}"]}),t})();function f(t,e){if(1&t&&(s.TgZ(0,"ion-item",4),s.TgZ(1,"ion-col",2),s._uU(2),s.qZA(),s.TgZ(3,"ion-col",2),s._uU(4),s.qZA(),s.TgZ(5,"ion-col",2),s._uU(6),s.qZA(),s.TgZ(7,"ion-col",2),s._uU(8),s.qZA(),s.qZA()),2&t){const t=e.$implicit,i=e.index;s.xp6(2),s.hij(" ",i+1," "),s.xp6(2),s.hij(" ",t.successes," "),s.xp6(2),s.hij(" ",t.mistakes," "),s.xp6(2),s.hij(" ",t.totalTime," ")}}let A=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-hay-uno-repetido-results-general-table"]],inputs:{results:"results"},decls:12,vars:1,consts:[[1,"table"],[1,"header-row","ion-no-padding"],[1,"column"],["class","row ion-no-padding",4,"ngFor","ngForOf"],[1,"row","ion-no-padding"]],template:function(t,e){1&t&&(s.TgZ(0,"ion-card",0),s.TgZ(1,"ion-item-group"),s.TgZ(2,"ion-item",1),s.TgZ(3,"ion-col",2),s._uU(4," Nro. Partida "),s.qZA(),s.TgZ(5,"ion-col",2),s._uU(6," Aciertos "),s.qZA(),s.TgZ(7,"ion-col",2),s._uU(8," Fallos "),s.qZA(),s.TgZ(9,"ion-col",2),s._uU(10," Tiempo Total "),s.qZA(),s.qZA(),s.YNc(11,f,9,4,"ion-item",3),s.qZA(),s.qZA()),2&t&&(s.xp6(11),s.Q6J("ngForOf",e.results))},directives:[d.PM,d.Ub,d.Ie,d.wI,c.sg],styles:[".table[_ngcontent-%COMP%]{border-radius:16px;--ion-padding-left:0}.table[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{font-weight:700}"]}),t})(),T=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-card-hay-uno-repetido-result"]],inputs:{results:"results"},decls:11,vars:3,consts:[[1,"card"],[3,"results"]],template:function(t,e){1&t&&(s.TgZ(0,"ion-card",0),s.TgZ(1,"ion-card-header"),s.TgZ(2,"ion-card-title"),s._uU(3,"Encuentra al Repetido"),s.qZA(),s.qZA(),s.TgZ(4,"ion-card-content"),s.TgZ(5,"ion-row"),s.TgZ(6,"ion-col"),s._UZ(7,"app-hay-uno-repetido-results-performance-graph",1),s._UZ(8,"app-hay-uno-repetido-results-time-graph",1),s.qZA(),s.TgZ(9,"ion-col"),s._UZ(10,"app-hay-uno-repetido-results-general-table",1),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(7),s.Q6J("results",e.results.results),s.xp6(1),s.Q6J("results",e.results.results),s.xp6(2),s.Q6J("results",e.results.results))},directives:[d.PM,d.Zi,d.gZ,d.FN,d.Nd,d.wI,h,b,A],styles:[".card[_ngcontent-%COMP%]{border-radius:16px}"]}),t})();function C(t,e){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"ion-chip",31),s.TgZ(2,"ion-label"),s._uU(3,"Paciente deshabilitado"),s.qZA(),s.qZA(),s.qZA())}function q(t,e){if(1&t&&(s.TgZ(0,"div",32),s.TgZ(1,"h5"),s._uU(2),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.hij("C\xf3digo de Ingreso: ",t.patient.loginCode,"")}}function v(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",33),s.TgZ(1,"h5",32),s._uU(2," Paciente Vinculado "),s.qZA(),s.TgZ(3,"ion-button",34),s.NdJ("click",function(){return s.CHM(t),s.oxw().unlinkPatient()}),s._UZ(4,"ion-icon",35),s.TgZ(5,"p",3),s._uU(6,"Desvincular"),s.qZA(),s.qZA(),s.qZA()}}function y(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",33),s.TgZ(1,"h5",32),s._uU(2," Paciente Desvinculado "),s.qZA(),s.TgZ(3,"ion-button",36),s.NdJ("click",function(){return s.CHM(t),s.oxw().resetCode()}),s._UZ(4,"ion-icon",35),s.TgZ(5,"p",3),s._uU(6,"Generar C\xf3digo"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(3),s.Q6J("disabled",0==(null==t.patient?null:t.patient.enabled))}}function _(t,e){if(1&t&&s._UZ(0,"app-card-hay-uno-repetido-result",37),2&t){const t=s.oxw();s.Q6J("results",t.results.hayUnoRepetido)}}const U=function(t){return["../../edit-patient",t]},w=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,r){this.patientsApiService=t,this.resultsApiService=e,this.route=i,this.router=n,this.alertController=o,this.dialogsComponent=r,this.myForm=new a.cw({firstName:new a.NI,lastName:new a.NI,bornDate:new a.NI,telephone:new a.NI,email:new a.NI,description:new a.NI,city:new a.NI}),this.showResults=!0}ngOnInit(){}ionViewWillEnter(){this.route.params.subscribe(t=>{this.id=t.id,this.patientsApiService.getPatientById(this.id).subscribe(t=>{this.patient=t,this.myForm.patchValue(this.patient)}),this.resultsApiService.getResultsByPatient(this.id).subscribe(t=>{var e;this.results=t,this.results.hayUnoRepetido.results.forEach(t=>{t.totalTime=t.totalTime.toFixed(2)}),0==(null===(e=this.results.hayUnoRepetido.results)||void 0===e?void 0:e.length)&&(this.showResults=!1)})})}deletePatient(){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.dialogsComponent.presentAlertConfirm("Eliminar paciente","\xbfDesea eliminar al paciente? Esta acci\xf3n no puede deshacerse"))&&this.patientsApiService.deletePatient(this.id).subscribe(()=>{this.dialogsComponent.presentAlert("Paciente eliminado","","<p>El paciente ha sido eliminado correctamente.","/patients")},t=>{this.dialogsComponent.presentAlert("Error","","Un error ha ocurrido, por favor int\xe9ntelo de nuevo m\xe1s tarde.","/patients")})})}unlinkPatient(){this.patient.logged=!1,this.patient.loginCode=null,this.patientsApiService.putPatient(this.patient,this.id).subscribe(t=>{window.location.reload()})}resetCode(){let t=Math.floor(1e6*Math.random()).toString();for(;t.length<6;)t="0"+t;this.patient.loginCode=t,this.patientsApiService.putPatient(this.patient,this.id).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.M),s.Y36(p.C),s.Y36(n.gz),s.Y36(n.F0),s.Y36(d.Br),s.Y36(u.T))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-specific-patient"]],decls:72,vars:19,consts:[["color","primary"],["slot","start"],["text",""],[1,"ion-padding"],[4,"ngIf"],[1,"ion-padding-top","ion-margin-top"],["size","3"],["size","9"],["color","danger","fill","clear",2,"float","right",3,"disabled","click"],["name","trash-outline"],[1,"ion-margin"],["fill","clear",2,"float","right",3,"disabled","routerLink"],["name","pencil-outline","item-right",""],["style","float: right; margin-right: 5%; margin-top: -0.5%",4,"ngIf"],["style","float: right; margin-right: 5%",4,"ngIf"],["id","container"],[3,"formGroup"],["size","6"],["id","rounded"],["position","stacked","fixed","","color","primary"],["readonly","","formControlName","firstName","type","text",3,"disabled"],["position","stacked","color","primary"],["readonly","","formControlName","lastName","type","text",3,"disabled"],["id","rounded","button",""],["readonly","","formControlName","bornDate",3,"disabled"],["name","calendar-outline","slot","end",2,"margin-top","16px"],["formControlName","city","readonly","","type","text",3,"disabled"],["type","text","formControlName","telephone",3,"disabled"],["formControlName","email","type","email",3,"disabled"],["rows","6","formControlName","description","type","text",3,"disabled"],[3,"results",4,"ngIf"],["color","danger"],[2,"float","right","margin-right","5%","margin-top","-0.5%"],[2,"float","right","margin-right","5%"],[2,"float","right",3,"click"],["name","log-out-outline"],[2,"float","right",3,"disabled","click"],[3,"results"]],template:function(t,e){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button",2),s.qZA(),s.TgZ(4,"ion-title"),s._uU(5,"Agilmente - Detalle de Paciente"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content",3),s.TgZ(7,"ion-row"),s.TgZ(8,"ion-col"),s.YNc(9,C,4,0,"div",4),s.TgZ(10,"div",5),s.TgZ(11,"ion-row"),s.TgZ(12,"ion-col",6),s.TgZ(13,"ion-title"),s._uU(14," Datos Personales "),s.qZA(),s.qZA(),s.TgZ(15,"ion-col",7),s.TgZ(16,"ion-button",8),s.NdJ("click",function(){return e.deletePatient()}),s._UZ(17,"ion-icon",9),s.TgZ(18,"p",10),s._uU(19,"Eliminar"),s.qZA(),s.qZA(),s.TgZ(20,"ion-button",11),s._UZ(21,"ion-icon",12),s.TgZ(22,"p",10),s._uU(23,"Editar"),s.qZA(),s.qZA(),s.YNc(24,q,3,1,"div",13),s.YNc(25,v,7,0,"div",14),s.YNc(26,y,7,1,"div",14),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",15),s.TgZ(28,"form",16),s.TgZ(29,"ion-row"),s.TgZ(30,"ion-col",17),s.TgZ(31,"ion-item",18),s.TgZ(32,"ion-label",19),s._uU(33,"Nombre"),s.qZA(),s._UZ(34,"ion-input",20),s.qZA(),s.qZA(),s.TgZ(35,"ion-col",17),s.TgZ(36,"ion-item",18),s.TgZ(37,"ion-label",21),s._uU(38,"Apellido"),s.qZA(),s._UZ(39,"ion-input",22),s.qZA(),s.qZA(),s.qZA(),s.TgZ(40,"ion-row"),s.TgZ(41,"ion-col",17),s.TgZ(42,"ion-item",23),s.TgZ(43,"ion-label",21),s._uU(44,"Fecha de nacimiento"),s.qZA(),s._UZ(45,"ion-input",24),s._UZ(46,"ion-icon",25),s.qZA(),s.qZA(),s.TgZ(47,"ion-col"),s.TgZ(48,"ion-item",18),s.TgZ(49,"ion-label",21),s._uU(50," Localidad "),s.qZA(),s._UZ(51,"ion-input",26),s.qZA(),s.qZA(),s.qZA(),s.TgZ(52,"ion-row"),s.TgZ(53,"ion-col",17),s.TgZ(54,"ion-item",23),s.TgZ(55,"ion-label",21),s._uU(56,"Tel\xe9fono"),s.qZA(),s._UZ(57,"ion-input",27),s.qZA(),s.qZA(),s.TgZ(58,"ion-col"),s.TgZ(59,"ion-item",18),s.TgZ(60,"ion-label",21),s._uU(61,"Correo Electr\xf3nico"),s.qZA(),s._UZ(62,"ion-input",28),s.qZA(),s.qZA(),s.qZA(),s.TgZ(63,"ion-row"),s.TgZ(64,"ion-col"),s.TgZ(65,"ion-item",18),s.TgZ(66,"ion-label",21),s._uU(67," Descripci\xf3n "),s.qZA(),s._UZ(68,"ion-textarea",29),s.qZA(),s.qZA(),s.qZA(),s._UZ(69,"br"),s._UZ(70,"br"),s.qZA(),s.YNc(71,_,1,1,"app-card-hay-uno-repetido-result",30),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(9),s.Q6J("ngIf",0==(null==e.patient?null:e.patient.enabled)),s.xp6(7),s.Q6J("disabled",0==(null==e.patient?null:e.patient.enabled)),s.xp6(4),s.Q6J("disabled",0==(null==e.patient?null:e.patient.enabled))("routerLink",s.VKq(17,U,e.id))("disabled",0==(null==e.patient?null:e.patient.enabled)),s.xp6(4),s.Q6J("ngIf",(null==e.patient?null:e.patient.loginCode)&&6==(null==e.patient||null==e.patient.loginCode?null:e.patient.loginCode.length)),s.xp6(1),s.Q6J("ngIf",6!=(null==e.patient||null==e.patient.loginCode?null:e.patient.loginCode.length)&&(null==e.patient?null:e.patient.logged)),s.xp6(1),s.Q6J("ngIf",6!=(null==e.patient||null==e.patient.loginCode?null:e.patient.loginCode.length)&&!(null!=e.patient&&e.patient.logged)),s.xp6(2),s.Q6J("formGroup",e.myForm),s.xp6(6),s.Q6J("disabled",!0),s.xp6(5),s.Q6J("disabled",!0),s.xp6(6),s.Q6J("disabled",!0),s.xp6(6),s.Q6J("disabled",!0),s.xp6(6),s.Q6J("disabled",!0),s.xp6(5),s.Q6J("disabled",!0),s.xp6(6),s.Q6J("disabled",!0),s.xp6(3),s.Q6J("ngIf",e.results&&e.results.hayUnoRepetido&&e.showResults))},directives:[d.Gu,d.sr,d.Sm,d.oU,d.cs,d.wd,d.W2,d.Nd,d.wI,c.O5,d.YG,d.gu,n.rH,d.YI,a._Y,a.JL,a.sg,d.Ie,d.Q$,d.pK,d.j9,a.JJ,a.u,d.g2,d.hM,T],styles:["#rounded[_ngcontent-%COMP%]{border-radius:10px!important;font-size:.9em;border:1px solid silver!important;display:flex;justify-content:space-between}#container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.Bz.forChild(w),o.t]]}),t})()}}]);